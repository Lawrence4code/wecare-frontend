(this["webpackJsonpping-pong"]=this["webpackJsonpping-pong"]||[]).push([[0],{186:function(e,t,a){e.exports=a(354)},197:function(e,t,a){},199:function(e,t,a){},344:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},353:function(e,t,a){},354:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),s=a(40),l=a(142),c=a(167),u=a.n(c),d=a(168),m=a(169),g=a.n(m),p={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR"},f={REGISTER_REQUEST:"USERS_REGISTER_REQUEST",REGISTER_SUCCESS:"USERS_REGISTER_SUCCESS",REGISTER_FAILURE:"USERS_REGISTER_FAILURE",LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",LOGOUT:"USERS_LOGOUT"},E={GET_ALLBOOKINGS_REQUEST:"GET_ALLBOOKINGS_REQUEST",GET_ALLBOOKINGS_SUCCESS:"GET_ALLBOOKINGS_SUCCESS",GET_ALLBOOKINGS_FAILURE:"GET_ALLBOOKINGS_FAILURE",ADD_BOOKING_REQUEST:"ADD_BOOKING_REQUEST",ADD_BOOKING_SUCCESS:"ADD_BOOKING_SUCCESS",ADD_BOOKING_FAILURE:"ADD_BOOKING_FAILURE",CANCEL_BOOKING_REQUEST:"CANCEL_BOOKING_REQUEST",CANCEL_BOOKING_SUCCESS:"CANCEL_BOOKING_SUCCESS",CANCEL_BOOKING_FAILURE:"CANCEL_BOOKING_FAILURE"},h=JSON.parse(localStorage.getItem("user")),b=h?{loggedIn:!0,user:h}:{};var S=a(110),O=a(170);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=a(67);var I=Object(s.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.LOGIN_REQUEST:return{loggingIn:!0,user:t.user};case f.LOGIN_SUCCESS:return{loggedIn:!0,user:t.userInfo};case f.LOGIN_FAILURE:case f.LOGOUT:return{};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.LOGIN_REQUEST:return{loading:!0};case f.LOGIN_SUCCESS:return{userDetails:t.userInfo};case f.LOGIN_FAILURE:return{error:t.error};case f.DELETE_REQUEST:return v({},e,{items:e.items.map((function(e){return e.id===t.id?v({},e,{deleting:!0}):e}))});case f.DELETE_SUCCESS:return{items:e.items.filter((function(e){return e.id!==t.id}))};case f.DELETE_FAILURE:return v({},e,{items:e.items.map((function(e){if(e.id===t.id){e.deleting;return v({},Object(S.a)(e,["deleting"]),{deleteError:t.error})}return e}))});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.SUCCESS:return{type:"alert-success",message:t.message};case p.ERROR:return{type:"alert-danger",message:t.message};case p.CLEAR:return{};default:return e}},bookings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,bookings:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.GET_ALLBOOKINGS_REQUEST:return{loading:!0,bookings:[]};case E.GET_ALLBOOKINGS_SUCCESS:return{loading:!1,bookings:t.bookings};case E.GET_ALLBOOKINGS_FAILURE:return{error:t.error};case E.ADD_BOOKING_REQUEST:return{loading:!0,bookings:Object(k.a)(e.bookings)};case E.ADD_BOOKING_SUCCESS:var a=t.bookingDetails,n=a._id,r=a.date,o=a.startTime,i={_id:n,id:a.id,date:r,startTime:o,endTime:a.endTime,duration:a.duration,createdAt:a.createdAt},s=[].concat(Object(k.a)(e.bookings),[i]);return{loading:!1,bookings:Object(k.a)(s)};case E.CANCEL_BOOKING_SUCCESS:var l=e.bookings.filter((function(e){return e._id!==t.bookingId}));return{loading:!1,bookings:Object(k.a)(l)};default:return e}}}),_={key:"root",storage:u.a,stateReconciler:g.a,blacklist:["alert"]},C=Object(l.a)(_,I),L=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):s.d)(Object(s.a)(d.a)),T=Object(s.e)(C,L),N=Object(l.b)(T),R=a(24),A=(a(197),a(27)),w=a(28),B=a(32),j=a(29),U=a(33),G=a(367);var M=a(49),D=Object(M.a)(),F={success:function(e){return{type:p.SUCCESS,message:e}},error:function(e){return{type:p.ERROR,message:e}},clear:function(){return{type:p.CLEAR}}};var P="https://infinite-savannah-30830.herokuapp.com",V={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,password:t})};return fetch("".concat(P,"/login"),a).then(x).then((function(e){var t=e.result;return localStorage.setItem("userToken",JSON.stringify(t.token)),localStorage.setItem("userId",JSON.stringify(t.userId)),localStorage.setItem("username",JSON.stringify(t.username)),t}))},logout:K,register:function(e){var t=e.name,a=e.email,n=e.password,r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:a,password:n})};return fetch("".concat(P,"/register"),r).then(x)}};function K(){localStorage.removeItem("userToken"),localStorage.removeItem("userId"),D.push("/"),N.purge()}function x(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&K();var n=a&&a.message||e.statusText;return Promise.reject(n)}return a}))}var Q={getAllBookings:function(){return fetch("".concat(H,"/getBookings"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(Y)},addBooking:function(e){var t=e.id,a=e.date,n=e.startTime,r=e.endTime,o=e.duration,i=e.createdAt,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,date:a,startTime:n,endTime:r,duration:o,createdAt:i})};return fetch("".concat(H,"/booking"),s).then(Y)},cancelBooking:function(e){var t={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookingId:e})};return fetch("".concat(H,"/booking"),t).then(Y)}},H="https://infinite-savannah-30830.herokuapp.com";function Y(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){e.status;var n=a&&a.message||e.statusText;return Promise.reject(n)}return a.result}))}var J={register:function(e){return function(t){t(function(e){return{type:f.REGISTER_REQUEST,user:e}}(e)),V.register(e).then((function(e){t(function(e){return{type:f.REGISTER_SUCCESS,user:e}}()),t(F.success("Registration successful"))}),(function(e){t(function(e){return{type:f.REGISTER_FAILURE,error:e}}(e)),t(F.error(e))}))}},login:function(e,t){return function(a){var n;a((n={username:e},{type:f.LOGIN_REQUEST,userInfo:n})),V.login(e,t).then((function(e){a(function(e){return{type:f.LOGIN_SUCCESS,userInfo:e}}(e)),D.push("/dashboard")}),(function(e){a(function(e){return{type:f.LOGIN_FAILURE,error:e}}(e)),a(F.error(e))}))}},logout:function(){return V.logout(),{type:f.LOGOUT}}};var q={getAllBookings:function(){return function(e){var t;e({type:E.GET_ALLBOOKINGS_REQUEST,bookings:t}),Q.getAllBookings().then((function(t){return e(function(e){return{type:E.GET_ALLBOOKINGS_SUCCESS,bookings:e}}(t))}),(function(t){return e(function(e){return{type:E.GET_ALLBOOKINGS_FAILURE,error:e}}(t))}))}},addBooking:function(e){return function(t){t(function(e){return{type:E.ADD_BOOKING_REQUEST,bookingDetails:e}}(e)),Q.addBooking(e).then((function(e){t(function(e){return{type:E.ADD_BOOKING_SUCCESS,bookingDetails:e}}(e)),t(F.success("Booking successful"))}),(function(e){t(function(e){return{type:E.ADD_BOOKING_FAILURE,error:e}}(e)),t(F.error(e))}))}},cancelBooking:function(e){return function(t){t(function(e){return{type:E.CANCEL_BOOKING_REQUEST,bookingId:e}}(e)),Q.cancelBooking(e).then((function(a){t(function(e){return{type:E.CANCEL_BOOKING_SUCCESS,bookingId:e}}(e)),t(F.success("Booking Cancelled Successfully"))}),(function(e){t(function(e){return{type:E.CANCEL_BOOKING_FAILURE,error:e}}(e)),t(F.error(e))}))}}};var W=function(e){var t=e.component,a=Object(S.a)(e,["component"]);return r.a.createElement(G.b,Object.assign({},a,{render:function(e){return localStorage.getItem("userToken")?r.a.createElement(t,e):r.a.createElement(G.a,{to:{pathname:"/",state:{from:e.location}}})}}))},X=a(357),z=a(361),$=a(57),Z=a(359),ee=a(12),te=a.n(ee),ae=(a(199),a(100)),ne=a(364),re=a(360),oe=a(358),ie=a(355),se=a(356),le=a(362),ce=a(366),ue=a(182),de=new(a(171).Scheduler),me=ne.a.confirm;var ge=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(B.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:10,allBookings:[],bookedSlots:[]},a.checkBookingAvailability=function(e){e.preventDefault();var t=a.props.allBookings.bookings.map((function(e){return{date:e.date,from:e.startTime,to:e.endTime}})),n=[];a.props.allBookings.bookings.forEach((function(e){var t=localStorage.getItem("userId"),a=ee("".concat(e.date,", ").concat(e.startTime)).subtract("60","minutes").format("HH:mm"),r=ee("".concat(e.date,", ").concat(e.startTime)).add("60","minutes").format("HH:mm");t==='"'.concat(e.id,'"')&&n.push({date:e.date,from:a,to:r})})),a.props.form.validateFields((function(e,r){var o=ee(r.date),i=de.getAvailability({from:r.date.format("YYYY-MM-DD"),to:o.add("days",1).format("YYYY-MM-DD"),duration:parseInt(a.state.inputValue),interval:parseInt(a.state.inputValue),schedule:{weekdays:{from:r.startTime.format("HH:mm"),to:"23:00"},unavailability:[].concat(Object(k.a)(t),n),allocated:[]}}),s=i!=={}&&Object.values(i)[0],l=!0,c=!1,u=void 0;try{for(var d,m=s[Symbol.iterator]();!(l=(d=m.next()).done);l=!0){var g=d.value;return r.startTime.format("HH:mm")===g.time&&(!0===g.available?(a.showConfirmBooking(a.props,a.state),!0):(a.noSlotAvaiable(),!1))}}catch(e){c=!0,u=e}finally{try{l||null==m.return||m.return()}finally{if(c)throw u}}a.props.form.resetFields(),a.props.hideBookingModal(!1)}))},a.showConfirmBooking=function(){me({title:"Nice, your selected time slot is avaiable!",content:"Would like confirm your booking?",icon:"check-circle",onOk:function(){a.props.form.validateFields((function(e,t){if(!e){var n=ee(t.startTime),r={id:a.props.user.userDetails.userId,date:t.date.format("YYYY-MM-DD"),startTime:t.startTime.format("HH:mm"),endTime:n.add(a.state.inputValue,"minutes").format("HH:mm"),duration:a.state.inputValue,createdAt:ee().format("LLLL")};a.props.addBooking(r)}a.props.form.resetFields(),a.props.hideBookingModal(!1)}))},onCancel:function(){}}).apply(Object(ae.a)(a))},a.noSlotAvaiable=function(){ne.a.error({title:"Oops",content:"Your selected slot is not avaiable, please try different time slots"})},a.onNameInputChange=function(e){var t=e.target.value;a.setState((function(){return{name:t}}))},a.onEmailInputChange=function(e){var t=e.target.value;a.setState((function(){return{email:t}}))},a.onPasswordInputChange=function(e){var t=e.target.value;a.setState((function(){return{password:t}}))},a.handleCancel=function(){a.setState((function(){return{username:"",email:"",password:""}})),a.props.form.resetFields(),a.props.hideBookingModal(!1)},a.onChange=function(e){a.setState({inputValue:e})},a}return Object(U.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e,t=this.state.inputValue,a=this.props.bookingModalVisible,n=this.props.form,o=n.getFieldDecorator,i=n.getFieldsError,s=n.isFieldTouched,l=n.getFieldError,c=s("date")&&l("date"),u=s("startTime")&&l("startTime");return r.a.createElement("div",null,r.a.createElement(ne.a,{visible:a,title:"Please fill up details to make a fresh reservation.",onCancel:this.handleCancel,footer:null,style:{top:200}},r.a.createElement(re.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.checkBookingAvailability}),r.a.createElement(re.a.Item,{label:"Booking date",validateStatus:c?"error":"",help:c||""},o("date",{rules:[{type:"object",required:!0,message:"Please select date."}]})(r.a.createElement(oe.a,null))),r.a.createElement(re.a.Item,{label:"Duration (mins)"},r.a.createElement(ie.a,null,r.a.createElement(se.a,{span:12},r.a.createElement(le.a,{min:10,max:60,onChange:this.onChange,value:"number"===typeof t?t:0})),r.a.createElement(se.a,{span:4},r.a.createElement(ce.a,{min:10,max:60,style:{marginLeft:16},value:t,onChange:this.onChange})))),r.a.createElement(re.a.Item,{label:"Start Time",validateStatus:u?"error":"",help:u||""},o("startTime",{rules:[{type:"object",required:!0,message:"Please select time."}]})(r.a.createElement(ue.a,null))),r.a.createElement(re.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement($.a,{type:"primary",disabled:(e=i(),Object.keys(e).some((function(t){return e[t]}))),htmlType:"submit"},"Check availability")))))}}]),t}(n.Component),pe=re.a.create({name:"normal_register"})(ge);var fe={addBooking:q.addBooking},Ee=Object(R.b)((function(e){return{allBookings:e.bookings,user:e.user}}),fe)(pe),he=X.a.Footer,be=z.a.Panel,Se=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(B.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={bookingModalVisible:!1},a.showBookingModal=function(){a.setState({bookingModalVisible:!0})},a.hideBookingModal=function(e){a.setState({bookingModalVisible:e})},a}return Object(U.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllBookings()}},{key:"cancelBooking",value:function(e){this.props.cancelBooking(e)}},{key:"render",value:function(){var e=this,t=localStorage.getItem("userId"),a=this.props.allBookings.bookings.filter((function(e){return t==='"'.concat(e.id,'"')&&te()("".concat(e.date," ").concat(e.endTime)).isAfter(te.a.now())})),n=this.props.allBookings.bookings.filter((function(e){return t==='"'.concat(e.id,'"')&&te()("".concat(e.date," ").concat(e.endTime)).isBefore(te.a.now())}));return r.a.createElement("div",null,r.a.createElement(X.a,null,r.a.createElement("section",{className:"dashboard"},r.a.createElement("div",{className:"dashboard__bookings"},r.a.createElement($.a,{className:"dashboard__addBooking",type:"primary",onClick:this.showBookingModal}," Make new booking"),r.a.createElement(z.a,{className:"accordion",defaultActiveKey:["1"],accordion:!0},r.a.createElement(be,{header:"Current Bookings",key:"1"},r.a.createElement(Z.a,null,0===a.length?r.a.createElement("div",{className:"noBooking"},r.a.createElement("p",null," No Bookings ")):a.map((function(t){return r.a.createElement(Z.a.Item,{key:t._id},r.a.createElement(Z.a.Item.Meta,{title:"Date: ".concat(t.date),description:"Slot: ".concat(t.startTime," - ").concat(t.endTime,", Duration: ").concat(t.duration," mins")}),r.a.createElement($.a,{type:"danger",onClick:function(){return e.cancelBooking(t._id)}},"Delete"))})))),r.a.createElement(be,{header:"History",key:"2"},r.a.createElement(Z.a,null,0===n.length?r.a.createElement("div",{className:"noBooking"},r.a.createElement("p",null," No History ")):n.map((function(e){return r.a.createElement(Z.a.Item,{key:e._id},r.a.createElement(Z.a.Item.Meta,{title:"Date: ".concat(e.date),description:"Slot: ".concat(e.startTime," - ").concat(e.endTime,", Duration: ").concat(e.duration," mins")}))}))))))),r.a.createElement(he,{className:"dashboard__footer"}," @Copyright Ping Pong LLC"),r.a.createElement(Ee,{bookingModalVisible:this.state.bookingModalVisible,hideBookingModal:this.hideBookingModal})))}}]),t}(n.Component);var Oe={getAllBookings:q.getAllBookings,cancelBooking:q.cancelBooking},ye=Object(R.b)((function(e){return{allBookings:e.bookings,user:e.user}}),Oe)(Se),ve=a(363),ke=a(11);a(344);var Ie=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(B.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:""},a.handleSubmitForRegister=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){var n=t.name,r=t.email,o=t.password;e||a.props.register({name:n,email:r,password:o}),a.props.form.resetFields(),a.props.hideRegisterModal(!1)}))},a.onNameInputChange=function(e){var t=e.target.value;a.setState((function(){return{name:t}}))},a.onEmailInputChange=function(e){var t=e.target.value;a.setState((function(){return{email:t}}))},a.onPasswordInputChange=function(e){var t=e.target.value;a.setState((function(){return{password:t}}))},a.handleCancel=function(){a.setState((function(){return{username:"",email:"",password:""}})),a.props.form.resetFields(),a.props.hideRegisterModal(!1)},a}return Object(U.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"render",value:function(){var e,t=this.props.registerModalVisible,a=this.props.form,n=a.getFieldDecorator,o=a.getFieldsError,i=a.isFieldTouched,s=a.getFieldError,l=i("name")&&s("name"),c=i("email")&&s("email"),u=i("password")&&s("password");return r.a.createElement(ne.a,{visible:t,title:"Please fill up below details to register with us.",onCancel:this.handleCancel,footer:null,style:{top:200}},r.a.createElement(re.a,{onSubmit:this.handleSubmitForRegister,className:"register-form"},r.a.createElement(re.a.Item,{validateStatus:l?"error":"",help:l||""},n("name",{rules:[{required:!0,message:"Please enter your name."},{min:4,max:10,message:"Username must between 4 to 10 characters."}]})(r.a.createElement(ve.a,{prefix:r.a.createElement(ke.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Name"}))),r.a.createElement(re.a.Item,{validateStatus:c?"error":"",help:c||""},n("email",{rules:[{type:"email",required:!0,message:"Please input your Email address!"}]})(r.a.createElement(ve.a,{prefix:r.a.createElement(ke.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email address"}))),r.a.createElement(re.a.Item,{validateStatus:u?"error":"",help:u||""},n("password",{rules:[{required:!0,message:"Please input your Password!"},{min:6,message:"Password must atleast 6 characters."},{max:25,message:"Password cannot exceed 25 characters."}]})(r.a.createElement(ve.a.Password,{prefix:r.a.createElement(ke.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement($.a,{type:"primary",htmlType:"submit",disabled:(e=o(),Object.keys(e).some((function(t){return e[t]}))),className:"register-form-button"},"Register")))}}]),t}(n.Component),_e=re.a.create({name:"normal_register"})(Ie),Ce={register:J.register},Le=Object(R.b)(null,Ce)(_e);r.a.createContext();var Te=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(B.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",password:""},a.handleSubmitForLogin=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){var n=t.username,r=t.password;e||a.props.login(n,r),a.props.form.resetFields(),a.props.hideLoginModal(!1)}))},a.onNameInputChange=function(e){var t=e.target.value;a.setState((function(){return{name:t}}))},a.onEmailInputChange=function(e){var t=e.target.value;a.setState((function(){return{email:t}}))},a.onPasswordInputChange=function(e){var t=e.target.value;a.setState((function(){return{password:t}}))},a.handleCancel=function(){a.setState((function(){return{username:"",password:""}})),a.props.form.resetFields(),a.props.hideLoginModal(!1)},a}return Object(U.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"render",value:function(){var e,t=this.props.loginModalVisible,a=this.props.form,n=a.getFieldDecorator,o=a.getFieldsError,i=a.isFieldTouched,s=a.getFieldError,l=i("username")&&s("username"),c=i("password")&&s("password");return r.a.createElement(ne.a,{visible:t,title:"Please login to access your account.",onCancel:this.handleCancel,footer:null,style:{top:200}},r.a.createElement(re.a,{onSubmit:this.handleSubmitForLogin,className:"login-form"},r.a.createElement(re.a.Item,{validateStatus:l?"error":"",help:l||""},n("username",{rules:[{required:!0,message:"Please enter your Username."}]})(r.a.createElement(ve.a,{prefix:r.a.createElement(ke.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(re.a.Item,{validateStatus:c?"error":"",help:c||""},n("password",{rules:[{required:!0,message:"Please input your Password."}]})(r.a.createElement(ve.a.Password,{prefix:r.a.createElement(ke.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement($.a,{type:"primary",htmlType:"submit",disabled:(e=o(),Object.keys(e).some((function(t){return e[t]}))),className:"login-form-button"},"Log in")))}}]),t}(n.Component),Ne=re.a.create({name:"normal_login"})(Te),Re={login:J.login,logout:J.logout},Ae=Object(R.b)(null,Re)(Ne),we=(a(350),X.a.Footer),Be=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(B.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={registerModalVisible:!1,loginModalVisible:!1},a.showRegisterModal=function(){a.setState({registerModalVisible:!0})},a.showLoginModal=function(){a.setState({loginModalVisible:!0})},a.hideRegisterModal=function(e){a.setState({registerModalVisible:e})},a.hideLoginModal=function(e){a.setState({loginModalVisible:e})},a}return Object(U.a)(t,e),Object(w.a)(t,[{key:"componentDidUpdate",value:function(){"alert-success"===this.props.alertType?this.registerSuccessInfo():"alert-danger"===this.props.alertType&&this.registerFailureInfo()}},{key:"registerSuccessInfo",value:function(){var e=this;ne.a.info({title:"Awesome, you register successfully",content:r.a.createElement("div",null,r.a.createElement("p",null,"We have sent you a confirmation email. And you may login to start using out service.")),onOk:function(){e.props.alertClear(),D.push("/login")}})}},{key:"registerFailureInfo",value:function(){ne.a.info({title:"Username/email already taken, please try different username/email.",content:r.a.createElement("div",null,r.a.createElement("p",null,"If you have registered already, please login to continue.")),onOk:function(){}})}},{key:"generalFailureInfo",value:function(){ne.a.info({title:"Awesome, you register successfully",content:r.a.createElement("div",null,r.a.createElement("p",null,"We have sent you a confirmation email. And you may login to start using out service.")),onOk:function(){}})}},{key:"render",value:function(){return r.a.createElement(X.a,null,r.a.createElement("section",{className:"hero"},r.a.createElement($.a,{className:"hero__ctaButton",type:"primary",onClick:this.showLoginModal}," Book Table Now!")),r.a.createElement(we,{className:"footer"}," @Copyright Ping Pong LLC"),r.a.createElement(Le,{registerModalVisible:this.state.registerModalVisible,hideRegisterModal:this.hideRegisterModal}),r.a.createElement(Ae,{loginModalVisible:this.state.loginModalVisible,hideLoginModal:this.hideLoginModal}))}}]),t}(n.Component);var je={alertClear:F.clear},Ue=Object(R.b)((function(e){return{alertType:e.alert.type}}),je)(Be),Ge=(a(351),a(352),a(365)),Me=(a(353),function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(B.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={registerModalVisible:!1,loginModalVisible:!1},a.showRegisterModal=function(){a.setState({registerModalVisible:!0})},a.showLoginModal=function(){a.setState({loginModalVisible:!0})},a.hideRegisterModal=function(e){a.setState({registerModalVisible:e})},a.hideLoginModal=function(e){a.setState({loginModalVisible:e})},a}return Object(U.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.loggedIn?r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},"Ping Pong"),r.a.createElement(Ge.a,{className:"menu",theme:"dark",mode:"horizontal"},r.a.createElement(Ge.a.Item,{className:"menu__item",key:"logout",onClick:this.props.logout},"Logout"))):r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},"Ping Pong"),r.a.createElement(Ge.a,{className:"menu",theme:"dark",mode:"horizontal",defaultSelectedKeys:["login"]},r.a.createElement(Ge.a.Item,{className:"menu__item",key:"register",onClick:this.showRegisterModal},"Register"),r.a.createElement(Ge.a.Item,{className:"menu__item",key:"login",onClick:this.showLoginModal},"Login"))),r.a.createElement(Le,{registerModalVisible:this.state.registerModalVisible,hideRegisterModal:this.hideRegisterModal}),r.a.createElement(Ae,{loginModalVisible:this.state.loginModalVisible,hideLoginModal:this.hideLoginModal}))}}]),t}(n.Component));var De={logout:J.logout},Fe=Object(R.b)((function(e){return{loggedIn:e.authentication.loggedIn}}),De)(Me),Pe=function(e){function t(e){var a;return Object(A.a)(this,t),a=Object(B.a)(this,Object(j.a)(t).call(this,e)),D.listen((function(e,t){a.props.clearAlerts()})),a}return Object(U.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props.alert;return r.a.createElement("div",null,e.message&&r.a.createElement("div",{className:"alert ".concat(e.type)},e.message),r.a.createElement(G.c,{history:D},r.a.createElement(Fe,null),r.a.createElement(G.d,null,r.a.createElement(W,{exact:!0,path:"/dashboard",component:ye}),r.a.createElement(G.b,{path:"/",component:Ue}),r.a.createElement(G.a,{from:"*",to:"/"}))))}}]),t}(r.a.Component);var Ve={clearAlerts:F.clear},Ke=Object(R.b)((function(e){return{alert:e.alert}}),Ve)(Pe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(R.a,{store:T},r.a.createElement(Ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[186,1,2]]]);
//# sourceMappingURL=main.1aa2f59e.chunk.js.map